<!DOCTYPE html>
<html>
<body>
  <form>
    <input type="text" id="username" placeholder="Username">
    <input type="email" id="email" placeholder="Email">
  </form>
  <div id="status"></div>

<script src="https://cdn.jsdelivr.net/npm/dom-helpers-js@2.4.1/dist/dom-helpers.min.js"></script>

  <script>
    // ========================================================================
    // LEVEL 6: SIMPLE FORM AUTO-SAVE
    // ========================================================================
    
    // Create auto-save
    const formSaver = StorageUtils.createAutoSave('userForm', {
      debounce: 500, // Wait 500ms after typing stops
      
      onSave: (data) => {
        document.getElementById('status').textContent = 'âœ“ Saved';
        setTimeout(() => {
          document.getElementById('status').textContent = '';
        }, 2000);
      }
    });
    
    // Load saved data on page load
    const saved = formSaver.load({ username: '', email: '' });
    document.getElementById('username').value = saved.username;
    document.getElementById('email').value = saved.email;
    
    // Save on every input change
    document.getElementById('username').addEventListener('input', function() {
      const data = {
        username: document.getElementById('username').value,
        email: document.getElementById('email').value
      };
      formSaver.save(data);
    });
    
    document.getElementById('email').addEventListener('input', function() {
      const data = {
        username: document.getElementById('username').value,
        email: document.getElementById('email').value
      };
      formSaver.save(data);
    });
  </script>
</body>
</html>